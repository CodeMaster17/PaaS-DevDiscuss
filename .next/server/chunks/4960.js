exports.id=4960,exports.ids=[4960],exports.modules={26930:(e,t,a)=>{let s={"2dff88dcc318cc9248361e60021283b2692e4fda":()=>Promise.resolve().then(a.bind(a,92503)).then(e=>e.globalSearch),"38b23658ea60de106c38e60f027acfeff8120b76":()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.createAnswer),"47c778af0c569cf9ff49a6af049f8278387c263e":()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.getAnswers),"2670d5e6893dc4acec799dd2489606fbd7eec1b8":()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.upvoteAnswer),"66af08863d17293c58c290da2a4e7b765bae9ef5":()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.downvoteAnswer),"66a08c61097290635a7e67f797a6de0391f71d33":()=>Promise.resolve().then(a.bind(a,13135)).then(e=>e.deleteAnswer)};async function endpoint(e,...t){let a=await s[e]();return a.apply(null,t)}e.exports={"2dff88dcc318cc9248361e60021283b2692e4fda":endpoint.bind(null,"2dff88dcc318cc9248361e60021283b2692e4fda"),"38b23658ea60de106c38e60f027acfeff8120b76":endpoint.bind(null,"38b23658ea60de106c38e60f027acfeff8120b76"),"47c778af0c569cf9ff49a6af049f8278387c263e":endpoint.bind(null,"47c778af0c569cf9ff49a6af049f8278387c263e"),"2670d5e6893dc4acec799dd2489606fbd7eec1b8":endpoint.bind(null,"2670d5e6893dc4acec799dd2489606fbd7eec1b8"),"66af08863d17293c58c290da2a4e7b765bae9ef5":endpoint.bind(null,"66af08863d17293c58c290da2a4e7b765bae9ef5"),"66a08c61097290635a7e67f797a6de0391f71d33":endpoint.bind(null,"66a08c61097290635a7e67f797a6de0391f71d33")}},9490:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(60080),n=a(76782),d=a(78131),r=a(52451),l=a.n(r),c=a(57114);let __WEBPACK_DEFAULT_EXPORT__=({type:e,itemId:t})=>{let a=(0,c.usePathname)(),r=(0,c.useRouter)(),handleDelete=async()=>{"Question"===e?await (0,d.Km)({questionId:JSON.parse(t),path:a}):"Answer"===e&&await (0,n.G)({answerId:JSON.parse(t),path:a})};return(0,s.jsxs)("div",{className:"flex items-center justify-end gap-3 max-sm:w-full",children:["Question"===e&&s.jsx(l(),{src:"/assets/icons/edit.svg",alt:"Edit",width:14,height:14,className:"cursor-pointer object-contain",onClick:()=>{r.push(`/question/edit/${JSON.parse(t)}`)}}),s.jsx(l(),{src:"/assets/icons/trash.svg",alt:"Delete",width:14,height:14,className:"cursor-pointer object-contain",onClick:handleDelete})]})}},79173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(48144),n=a(44602),d=a.n(n);a(53830);var r=a(70753),l=a(30282),c=a(35082),i=a(38798),o=a(77238);let __WEBPACK_DEFAULT_EXPORT__=({clerkId:e,_id:t,title:a,tags:n,author:f,upvotes:u,views:w,answers:p,createdAt:h})=>{let m=e&&e===f.clerkId;return(0,s.jsxs)("div",{className:"card-wrapper rounded-[10px] p-9 sm:px-11",children:[(0,s.jsxs)("div",{className:"flex flex-col-reverse items-start justify-between gap-5 sm:flex-row",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"subtle-regular text-dark400_light700 line-clamp-1 flex sm:hidden",children:(0,c.u3)(h)}),s.jsx(d(),{href:`/question/${t}`,children:s.jsx("h3",{className:"sm:h3-semibold base-semibold text-dark200_light900 line-clamp-1 flex-1",children:a})})]}),s.jsx(i.CH,{children:m&&s.jsx(o.ZP,{type:"Question",itemId:JSON.stringify(t)})})]}),s.jsx("div",{className:"mt-3.5 flex flex-wrap gap-2",children:n.map(e=>s.jsx(r.Z,{_id:e._id,name:e.name},e._id))}),(0,s.jsxs)("div",{className:"flex-between mt-6 w-full flex-wrap gap-3",children:[s.jsx(l.Z,{imgUrl:f.picture,alt:"user",value:f.name,title:` - asked ${(0,c.u3)(h)}`,href:`/profile/${f._id}`,isAuthor:!0,textStyles:"body-medium text-dark400_light700"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 max-sm:flex-wrap max-sm:justify-start",children:[s.jsx(l.Z,{imgUrl:"/assets/icons/like.svg",alt:"Upvotes",value:(0,c.yv)(u.length),title:" Votes",textStyles:"small-medium text-dark400_light800"}),s.jsx(l.Z,{imgUrl:"/assets/icons/message.svg",alt:"message",value:(0,c.yv)(p.length),title:" Answers",textStyles:"small-medium text-dark400_light800"}),s.jsx(l.Z,{imgUrl:"/assets/icons/eye.svg",alt:"eye",value:(0,c.yv)(w),title:" Views",textStyles:"small-medium text-dark400_light800"})]})]})]})}},77238:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>c});var s=a(17536);let n=(0,s.createProxy)(String.raw`/Users/harshityadav/Desktop/Code/dev-queue/components/shared/EditDeleteAction.tsx`),{__esModule:d,$$typeof:r}=n,l=n.default,c=l},13135:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createAnswer:()=>createAnswer,deleteAnswer:()=>deleteAnswer,downvoteAnswer:()=>downvoteAnswer,getAnswers:()=>getAnswers,upvoteAnswer:()=>upvoteAnswer});var s=a(57016),n=a(16969),d=a(27977),r=a(10896),l=a(20738),c=a(92825),i=a(4385);async function createAnswer(e){try{(0,d.connectToDatabase)();let{content:t,author:a,question:s,path:o}=e,f=await n.default.create({content:t,author:a,question:s}),u=await r.default.findByIdAndUpdate(s,{$push:{answers:f._id}});await c.default.create({user:a,action:"answer",question:s,answer:f._id,tags:u.tags}),await i.default.findByIdAndUpdate(a,{$inc:{reputation:10}}),(0,l.revalidatePath)(o)}catch(e){throw console.log(e),e}}async function getAnswers(e){try{(0,d.connectToDatabase)();let{questionId:t,sortBy:a,page:s=1,pageSize:r=10}=e,l=(s-1)*r,c={};switch(a){case"highestUpvotes":c={upvotes:-1};break;case"lowestUpvotes":c={upvotes:1};break;case"recent":c={createdAt:-1};break;case"old":c={createdAt:1}}let i=await n.default.find({question:t}).populate("author","_id clerkId name picture").sort(c).skip(l).limit(r),o=await n.default.countDocuments({question:t}),f=o>l+i.length;return{answers:i,isNextAnswer:f}}catch(e){throw console.log(e),e}}async function upvoteAnswer(e){try{(0,d.connectToDatabase)();let{answerId:t,userId:a,hasupVoted:s,hasdownVoted:r,path:c}=e,o={};o=s?{$pull:{upvotes:a}}:r?{$pull:{downvotes:a},$push:{upvotes:a}}:{$addToSet:{upvotes:a}};let f=await n.default.findByIdAndUpdate(t,o,{new:!0});if(!f)throw Error("Answer not found");await i.default.findByIdAndUpdate(a,{$inc:{reputation:s?-2:2}}),await i.default.findByIdAndUpdate(f.author,{$inc:{reputation:s?-10:10}}),(0,l.revalidatePath)(c)}catch(e){throw console.log(e),e}}async function downvoteAnswer(e){try{(0,d.connectToDatabase)();let{answerId:t,userId:a,hasupVoted:s,hasdownVoted:r,path:c}=e,o={};o=r?{$pull:{downvote:a}}:s?{$pull:{upvotes:a},$push:{downvotes:a}}:{$addToSet:{downvotes:a}};let f=await n.default.findByIdAndUpdate(t,o,{new:!0});if(!f)throw Error("Answer not found");await i.default.findByIdAndUpdate(a,{$inc:{reputation:r?-2:2}}),await i.default.findByIdAndUpdate(f.author,{$inc:{reputation:r?-10:10}}),(0,l.revalidatePath)(c)}catch(e){throw console.log(e),e}}async function deleteAnswer(e){try{(0,d.connectToDatabase)();let{answerId:t,path:a}=e,s=await n.default.findById(t);if(!s)throw Error("Answer not found");await s.deleteOne({_id:t}),await r.default.updateMany({_id:s.question},{$pull:{answers:t}}),await c.default.deleteMany({answer:t}),(0,l.revalidatePath)(a)}catch(e){console.log(e)}}(0,a(96276).ensureServerEntryExports)([createAnswer,getAnswers,upvoteAnswer,downvoteAnswer,deleteAnswer]),(0,s.createActionProxy)("38b23658ea60de106c38e60f027acfeff8120b76",null,createAnswer),(0,s.createActionProxy)("47c778af0c569cf9ff49a6af049f8278387c263e",null,getAnswers),(0,s.createActionProxy)("2670d5e6893dc4acec799dd2489606fbd7eec1b8",null,upvoteAnswer),(0,s.createActionProxy)("66af08863d17293c58c290da2a4e7b765bae9ef5",null,downvoteAnswer),(0,s.createActionProxy)("66a08c61097290635a7e67f797a6de0391f71d33",null,deleteAnswer)}};